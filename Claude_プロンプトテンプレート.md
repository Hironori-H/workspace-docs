# Claude Code プロンプトテンプレート集

## 概要
Claude Codeに依頼する際によく使うプロンプトのテンプレート集です。
テンプレートをコピーして、具体的な内容に置き換えて使用してください。

---

## 0. Claude Code の起動

### macOSでの起動

#### 基本起動
```bash
claude
```

#### モデルを指定して起動
```bash
# Sonnet 4.5で起動（コスパ重視・実装作業向け）
claude --model sonnet

# Opusで起動（高品質・レビュー/分析作業向け）
claude --model opus

# Haikuで起動（高速・軽量作業向け）
claude --model haiku
```

### 説明
- macOSではターミナル（bash/zsh）から直接`claude`コマンドを実行します
- PowerShell Coreを使用している場合も同様に`claude`で起動できます
- `--model`オプションで使用するモデルを指定できます

### 役割別エイリアス設定（推奨）

以下を `.zshrc` または `.bashrc` に追加すると便利です：

```bash
# Worker用（Sonnet 4.5 - コスパ重視）
alias claude-worker='claude --model sonnet'

# Reviewer用（Opus - 高品質レビュー）
alias claude-reviewer='claude --model opus'

# Maintainer用（Opus - 戦略的判断）
alias claude-maintainer='claude --model opus'
```

設定後、以下のコマンドで起動できます：
```bash
# Worker として起動
claude-worker

# Reviewer として起動
claude-reviewer

# Maintainer として起動
claude-maintainer
```

---

## 役割別の推奨モデル

| 役割 | 推奨モデル | 理由 | 起動コマンド |
|------|----------|------|-------------|
| **Worker** | **Sonnet 4.5** | コスパ最高、実装能力十分、速度が速い | `claude --model sonnet` |
| **Reviewer** | **Opus** | 高品質レビュー、細かい問題発見、critical thinking | `claude --model opus` |
| **Maintainer** | **Opus** | 全体把握、戦略的判断、構造設計 | `claude --model opus` |

### モデルの使い分け指針

**Sonnet 4.5を使用すべき場合**:
- 明確な要件に基づく実装作業
- スクリプト・コードの作成
- バグ修正
- ドキュメント作成
- 頻繁に使用する日常作業

**Opusを使用すべき場合**:
- コードレビュー・品質評価
- セキュリティチェック
- Workspace全体の構造分析
- アーキテクチャ設計
- 重要な判断が必要な作業

---

### 作業前提条件ドキュメントの読み込み（推奨）

Claude Code 起動後、以下のプロンプトで作業前提条件ドキュメントを読み込んでから作業を開始することを推奨します。

#### Maintainer（管理・整備担当）として作業する場合

**推奨モデル**: Opus
**起動方法**: `claude --model opus` または `claude-maintainer`
**理由**: Workspace全体の構造管理・戦略的判断には最高品質のモデルが必要

```
以下のドキュメントを確認してください。確認後、指示を待ってください。
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Maintainer_v1.2.md

【重要】あなたはMaintainerです。
- Workspace全体の構造管理・整理を担当します
- 個別の実装はWorkerの役割、レビューはReviewerの役割です
- 必ず実際のファイルを確認してから整理・管理を実施してください
- 大規模な変更は必ずユーザーの承認を得てください
- アーカイブ、ドキュメント整備、改善提案が主な作業です
```

#### Reviewer（レビュー担当）として作業する場合

**推奨モデル**: Opus
**起動方法**: `claude --model opus` または `claude-reviewer`
**理由**: 高品質なレビュー・細かい問題発見・的確な修正指示には最高品質のモデルが必要

```
以下のドキュメントを確認してください。

/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Reviewer.md

【重要】あなたはReviewerです。
- 直接コード修正は行わず、必ず修正指示ドキュメントを作成してください
- 「修正を実施してください」と言われた場合も、修正指示ドキュメントを作成し、Workerに依頼してください
- コード修正はWorkerの役割です

確認後、指示を待ってください。
```

#### Worker（実装・作業担当）として作業する場合

**推奨モデル**: Sonnet 4.5
**起動方法**: `claude --model sonnet` または `claude-worker`
**理由**: コスパ最高・実装能力十分・速度が速い・頻繁に使用する作業に最適

```
以下のドキュメントを確認してください。確認後、指示を待ってください。
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Worker.md
```

#### 複数の役割で作業する場合

**Reviewer + Worker の両方の役割**:

**推奨モデル**: Opus
**起動方法**: `claude --model opus`
**理由**: レビュー品質を優先（レビュー→修正指示→Worker実装の流れ）

```
以下のドキュメントを確認してください。確認後、指示を待ってください。
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Reviewer.md
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Worker.md

【重要】あなたはReviewerとWorkerの両方の役割を担当します。
- レビュー時は修正指示ドキュメントを作成（Reviewer）
- 実装時は修正指示に従って実装（Worker）
```

**Maintainer + Worker の役割**:

**推奨モデル**: Opus
**起動方法**: `claude --model opus`
**理由**: Workspace全体の構造管理・戦略的判断を優先（分析→提案→実装の流れ）

```
以下のドキュメントを確認してください。確認後、指示を待ってください。
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Maintainer_v1.2.md
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Worker.md

【重要】あなたはMaintainerとWorkerの両方の役割を担当します。
- 全体管理・整理時はWorkspace全体を把握（Maintainer）
- 実装時は具体的な作業を実施（Worker）
```

**全ての役割（Maintainer + Reviewer + Worker）**:

**推奨モデル**: Opus
**起動方法**: `claude --model opus`
**理由**: 全ての役割を担うため、最高品質のモデルが必要（分析・レビュー・実装の全工程）

```
以下のドキュメントを確認してください。確認後、指示を待ってください。
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Maintainer_v1.2.md
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Reviewer.md
/Users/hiraihironori/Desktop/WorkSpace/DOCS/作業前提条件_Worker.md

【重要】あなたは全ての役割を担当します。
- Maintainer: Workspace全体の構造管理・整理
- Reviewer: レビュー・評価（修正指示ドキュメント作成）
- Worker: 実装・作業（修正指示に従った実装）
- 状況に応じて適切な役割を切り替えて作業してください
```

#### メリット
- 作業ルール・前提条件を踏まえた対応が可能
- プロジェクト固有の規約・ワークフローに沿った作業
- レビュー基準の統一

---

## 1. データ処理スクリプト作成

### テンプレート
```
[言語名]で[入力ファイル形式]を読み込んで、[処理内容]を行い、[出力ファイル形式]で出力するスクリプトを作成してください。

**要件**:
- 入力ファイル: [ファイルパス]
- 出力先: [出力先パス]
- 処理内容:
  1. [処理1]
  2. [処理2]
  3. [処理3]
- エラーハンドリング: [必要/不要]
- ログ出力: [必要/不要]

**制約事項**:
- [制約1]
- [制約2]
```

### 具体例
```
Pythonでcsvファイルを読み込んで、特定の列でフィルタリングを行い、JSONで出力するスクリプトを作成してください。

**要件**:
- 入力ファイル: 20251113/test_data/input.csv
- 出力先: 20251113/log/output.json
- 処理内容:
  1. CSVファイルを読み込む
  2. "status"列が"active"のデータのみ抽出
  3. JSON形式で出力
- エラーハンドリング: 必要
- ログ出力: 必要

**制約事項**:
- pandasライブラリを使用
- 入力ファイルが存在しない場合はエラーメッセージを出力
```

---

## 2. ファイル変換

### テンプレート
```
[入力形式]から[出力形式]に変換するスクリプトを作成してください。

**変換対象**:
- 入力フォルダ: [パス]
- 出力フォルダ: [パス]
- ファイルパターン: [*.ext]

**変換仕様**:
- [変換ルール1]
- [変換ルール2]

**オプション**:
- バックアップ作成: [有/無]
- 変換ログ: [有/無]
```

---

## 3. バッチ処理

### テンプレート
```
以下のファイル群に対して[処理内容]を一括で実行するスクリプトを作成してください。

**対象ファイル**:
- フォルダ: [パス]
- ファイルパターン: [パターン]
- 除外パターン: [パターン]

**処理内容**:
1. [処理1]
2. [処理2]
3. [処理3]

**結果の出力**:
- 処理結果を[形式]で出力
- エラーがあった場合は[対応方法]
```

---

## 4. エラー調査・デバッグ

### テンプレート
```
以下のエラーについて原因を調査して、修正方法を提案してください。

**エラー発生状況**:
- 実行したコマンド: [コマンド]
- エラーメッセージ: [メッセージ]
- 発生タイミング: [タイミング]

**関連ファイル**:
- [ファイルパス1]
- [ファイルパス2]

**期待する動作**:
- [期待する結果]

**試したこと**:
- [試した内容1]
- [試した内容2]
```

---

## 5. コードレビュー・リファクタリング

### テンプレート
```
以下のコードをレビューして、改善点を提案してください。

**対象ファイル**: [ファイルパス]

**確認してほしい点**:
- [ ] パフォーマンス
- [ ] 可読性
- [ ] エラーハンドリング
- [ ] セキュリティ
- [ ] コーディング規約への準拠

**特に気になる箇所**:
- [行番号]: [懸念点]
```

---

## 6. ドキュメント作成

### テンプレート
```
[対象ファイル/機能]について、以下の形式でドキュメントを作成してください。

**含めてほしい内容**:
- 概要
- 使用方法
- パラメータ説明
- 実行例
- エラー対応

**形式**: Markdown

**参考にすべきファイル**: [ファイルパス]
```

---

## 7. テストコード作成

### テンプレート
```
[対象ファイル]に対するテストコードを作成してください。

**テスト対象**: [ファイルパス]

**テストケース**:
- 正常系:
  1. [ケース1]
  2. [ケース2]
- 異常系:
  1. [ケース1]
  2. [ケース2]
- 境界値:
  1. [ケース1]

**使用フレームワーク**: [pytest/unittest/など]

**カバレッジ目標**: [%]
```

---

## 8. 設定ファイル作成

### テンプレート
```
以下の仕様で設定ファイルを作成してください。

**ファイル形式**: [JSON/YAML/INI/など]
**保存先**: [パス]

**設定項目**:
- [項目1]: [説明]
- [項目2]: [説明]
- [項目3]: [説明]

**デフォルト値**:
- [項目1]: [値]
- [項目2]: [値]

**注意事項**:
- [注意点1]
- [注意点2]
```

---

## 9. 自動化スクリプト

### テンプレート
```
以下の作業を自動化するスクリプトを作成してください。

**自動化したい作業**:
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

**実行タイミング**: [毎日/毎週/手動/など]

**必要な機能**:
- [ ] ログ出力
- [ ] エラー通知
- [ ] 実行結果のレポート
- [ ] ロールバック機能

**実行環境**: [Windows/Linux/など]
```

---

## 10. After Effects 自動化

### テンプレート
```
After Effectsで[作業内容]を自動化するスクリプトを作成してください。

**作業内容**:
- [処理1]
- [処理2]

**対象プロジェクト**: [ファイルパス]

**出力設定**:
- 形式: [MP4/AVI/など]
- 解像度: [解像度]
- フレームレート: [fps]

**注意事項**:
- [注意点]
```

---

## 11. Unreal Engine 自動化

### テンプレート
```
Unreal Engineで[作業内容]を自動化する方法を提案してください。

**作業内容**:
- [処理1]
- [処理2]

**使用バージョン**: Unreal Engine [バージョン]

**対象アセット**: [アセット名/パス]

**期待する結果**:
- [結果1]
- [結果2]
```

---

## 12. 作業前提条件の参照

### テンプレート
```
DOCS/作業前提条件_Worker.mdに従って、[作業内容]を実施してください。

**今日の日付**: [YYYYMMDD]

**作業内容**:
- [内容1]
- [内容2]

**注意事項**:
- 作業ログ（YYYYMMDD_worklog.md）を作成
- 出力ファイルはlog/フォルダに格納
- テストデータはtest_data/フォルダに格納
```

---

## 13. トークン使用状況の確認

### スラッシュコマンド
```
/token-usage
```

### 説明
現在のセッションのトークン使用状況をビジュアルゲージで表示します。

### 表示内容
- 使用済みトークン数 / 合計トークン数
- 使用率（%）
- プログレスバー（30文字幅）
- ステータス（🟢/🟡/🟠/🔴）

### 使用タイミング
- 大量のファイル読み込み前に残量確認
- 長時間のセッション中に定期的に確認
- トークン制限に近づいているか心配な時

### 実装場所
`.claude/commands/token-usage.md`

---

## 使用上の注意

1. **[]で囲まれた部分は具体的な内容に置き換える**
2. **不要な項目は削除してもOK**
3. **追加で説明が必要な場合は自由に追記**
4. **作業前提条件_Worker.mdに従った依頼を心がける**
5. **トークン使用量が気になる場合は `/token-usage` で確認**

---

**最終更新日**: 2025年11月24日
**バージョン**: 1.8

## 変更履歴
- **v1.8** (2025-11-24): トークン使用状況確認機能を追加
  - 「## 13. トークン使用状況の確認」セクションを新規追加
  - `/token-usage` スラッシュコマンドの説明を追加
  - 使用タイミングと表示内容を明記
  - 使用上の注意に `/token-usage` の活用を追記
- **v1.7** (2025-11-23): Maintainerドキュメントのパス更新
  - 作業前提条件_Maintainer_v1.1.md → 作業前提条件_Maintainer_v1.2.md に変更
  - 全てのプロンプトテンプレート内のパス参照を更新（3箇所）
- **v1.6** (2025-11-22): Maintainerドキュメントのパス更新
  - 作業前提条件_Maintainer.md → 作業前提条件_Maintainer_v1.1.md に変更
  - 全てのプロンプトテンプレート内のパス参照を更新
- **v1.5** (2025-11-22): 役割別の推奨モデルを追加
  - モデル選択の説明セクションを追加（Sonnet 4.5、Opus、Haikuの使い分け）
  - 役割別エイリアス設定を追加（claude-worker、claude-reviewer、claude-maintainer）
  - 役割別の推奨モデル表を追加（Worker: Sonnet 4.5、Reviewer: Opus、Maintainer: Opus）
  - モデルの使い分け指針を明記
  - 各役割のプロンプトテンプレートに推奨モデル・起動方法・理由を追記
  - 複数役割の場合の推奨モデルも明記（基本的にOpus推奨）
- **v1.4** (2025-11-18): Maintainer用プロンプトと複数役割のバリエーションを追加
  - Maintainer（管理・整備担当）として作業する場合のプロンプトを追加
  - 「【重要】あなたはMaintainerです」で役割を明確化
  - Workspace全体の管理・整理の責務を明記
  - 「複数の役割で作業する場合」のセクションを拡張
  - Reviewer+Worker、Maintainer+Worker、全ての役割のパターンを追加
  - 各パターンで役割を認識させた上でドキュメント読み込み後に指示待ちをさせる形式に統一
- **v1.3** (2025-11-18): Reviewer用プロンプトに役割強調を追加
  - Reviewer用プロンプトに「【重要】あなたはReviewerです」を追加
  - 直接コード修正の禁止を明示
  - 「修正を実施してください」と言われた場合の正しい対応を明記
  - コード修正はWorkerの役割であることを強調
- **v1.2** (2025-11-17): 作業前提条件ドキュメントの読み込みセクションを追加
  - 「### 作業前提条件ドキュメントの読み込み（推奨）」を追加
  - Reviewer用、Worker用、両方の役割用のプロンプトテンプレートを追加
  - ドキュメント読み込みのメリットを明記
- **v1.1** (2025-11-14): Claude Code の起動コマンドを追加
  - 「## 0. Claude Code の起動」セクションを新規追加
  - 一行コマンドでの起動方法を追加（セミコロンでの連結）
  - 代替方法（&&演算子、個別実行）を追加
  - 注意事項を明記
- **v1.0** (2025-11-13): 初版作成
