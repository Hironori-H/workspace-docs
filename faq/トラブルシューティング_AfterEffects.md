# After Effects トラブルシューティング

## よくあるエラーと解決方法

---

## 1. メモリ不足エラー

### エラーメッセージ
```
RAM プレビューには十分なメモリがありません
```

### 原因
- After Effectsに割り当てられたメモリが不足している
- 複雑なコンポジションやエフェクトが多い

### 解決方法
1. **メモリ設定を変更**
   - 編集 > 環境設定 > メモリ
   - 他のアプリケーション用に確保するメモリを減らす
   - After Effectsに割り当てるメモリを増やす

2. **プレビュー解像度を下げる**
   - コンポジションパネル下部の解像度を1/2または1/4に設定

3. **不要なレイヤーを削除**
   - シャイレイヤーを活用
   - 使用していないレイヤーを削除

4. **キャッシュをクリア**
   - 編集 > ディスクキャッシュを削除 > 全ディスクキャッシュを削除

---

## 2. フッテージが見つからない

### エラーメッセージ
```
1 ファイルがありません
```

### 原因
- プロジェクトで使用している素材ファイルが移動または削除された
- ファイルパスが変更された

### 解決方法
1. **素材を再リンク**
   - プロジェクトパネルで欠落しているファイルをダブルクリック
   - 正しいファイルの場所を指定

2. **プロジェクトを収集**
   - ファイル > 依存関係 > ファイルを収集
   - すべての素材を一箇所にコピー

3. **相対パスで管理**
   - プロジェクトファイルと素材を同じフォルダ構造で管理

---

## 3. レンダリングエラー

### エラーメッセージ
```
レンダリング中にエラーが発生しました
After Effects エラー: レンダリングエラー
```

### 原因
- メモリ不足
- プラグインの問題
- コーデックの問題
- ディスク容量不足

### 解決方法
1. **範囲を分割してレンダリング**
   - レンダーキューで作業領域を短く設定
   - 複数回に分けてレンダリング

2. **出力形式を変更**
   - H.264 → QuickTime
   - PNG シーケンス出力に変更

3. **エフェクトを無効化してテスト**
   - 問題のあるエフェクトを特定
   - エフェクトを一つずつ無効化してレンダリング

4. **ディスク容量を確認**
   - 出力先ドライブに十分な空き容量があるか確認

---

## 4. プレビューが遅い・カクつく

### 原因
- コンポジションが複雑
- 高解像度素材を使用
- エフェクトの処理が重い

### 解決方法
1. **プレビュー解像度を下げる**
   - 1/4または1/8に設定

2. **プロキシを使用**
   - ファイル > 作成 > プロキシ > ムービー
   - 低解像度のプロキシファイルで作業

3. **ディスクキャッシュを有効化**
   - 編集 > 環境設定 > メディアとディスクキャッシュ
   - SSDにキャッシュフォルダを設定

4. **エフェクトの最適化**
   - GPU対応エフェクトを使用
   - プロジェクト設定でレンダラーをMercury GPU Accelerationに設定

---

## 5. スクリプトエラー

### エラーメッセージ
```
スクリプトの実行中にエラーが発生しました
```

### 原因
- スクリプトの構文エラー
- 対応していないバージョン
- ファイルパスの問題

### 解決方法
1. **ExtendScriptツールキットでデバッグ**
   - File > Scripts > Open Script Editor
   - エラー箇所を特定

2. **スクリプトファイルの場所**
   - Windows: `C:\Program Files\Adobe\Adobe After Effects [version]\Support Files\Scripts\`
   - ScriptUI Panelsフォルダに配置するとパネルとして使用可能

3. **ファイルパスのエスケープ**
   ```javascript
   // バックスラッシュをエスケープ
   var filePath = "C:\\Users\\CLPC-63\\workspace\\file.txt";

   // またはスラッシュを使用
   var filePath = "C:/Users/CLPC-63/workspace/file.txt";
   ```

---

## 6. エクスプレッションエラー

### エラーメッセージ
```
エクスプレッションエラー
```

### 原因
- エクスプレッションの構文エラー
- 参照しているレイヤーやプロパティが存在しない

### 解決方法
1. **エクスプレッションを確認**
   - 赤い波線が表示されている箇所を確認
   - エラーメッセージを読む

2. **よくある問題**
   ```javascript
   // レイヤー名が変更された
   thisComp.layer("Layer 1").transform.position;  // NG
   thisComp.layer(1).transform.position;          // OK（インデックス指定）

   // セミコロンの位置
   var x = 100;  // OK
   var y = 200   // NG（セミコロンが必要）
   ```

3. **エクスプレッションを無効化してテスト**
   - Alt + クリック（Windows）でエクスプレッションを無効化

---

## 7. プラグインが読み込めない

### エラーメッセージ
```
プラグインを読み込めませんでした
```

### 原因
- プラグインのバージョンがAfter Effectsと互換性がない
- プラグインファイルが破損
- ライセンスの問題

### 解決方法
1. **プラグインの互換性を確認**
   - 使用中のAfter Effectsバージョンに対応しているか確認
   - プラグインのアップデートを確認

2. **プラグインフォルダを確認**
   - `C:\Program Files\Adobe\Adobe After Effects [version]\Support Files\Plug-ins\`
   - サードパーティプラグインが正しく配置されているか

3. **環境設定をリセット**
   - Ctrl + Alt + Shift を押しながらAfter Effectsを起動

---

## 8. オーディオが聞こえない

### 原因
- オーディオレイヤーがミュートされている
- マスターボリュームが0
- オーディオハードウェアの設定

### 解決方法
1. **レイヤーのオーディオを確認**
   - タイムラインパネルのオーディオスイッチを確認
   - スピーカーアイコンが表示されているか

2. **プレビュー設定を確認**
   - 環境設定 > プレビュー
   - オーディオデバイスが正しく設定されているか

3. **オーディオをプリレンダリング**
   - レイヤー > プリコンポーズ
   - コンポジション > プリレンダリング

---

## 9. コンポジション設定のミスマッチ

### エラーメッセージ
```
このアイテムの設定とコンポジションの設定が一致しません
```

### 原因
- 素材とコンポジションのフレームレートや解像度が異なる

### 解決方法
1. **素材をコンポジション設定に合わせる**
   - 素材を右クリック > フッテージを変換 > メイン
   - コンポジション設定に合わせる

2. **コンポジション設定を変更**
   - コンポジション > コンポジション設定
   - 解像度、フレームレート、デュレーションを確認

---

## 10. プロジェクトが開けない・クラッシュ

### 原因
- プロジェクトファイルが破損
- プラグインの問題
- メモリ不足

### 解決方法
1. **自動保存ファイルを開く**
   - `C:\Users\[ユーザー名]\Documents\Adobe\After Effects [version]\`
   - 自動保存フォルダ内のファイルを確認

2. **プラグインを無効化して起動**
   - Ctrl + Alt + Shift を押しながら起動
   - プラグインなしで開く

3. **新規プロジェクトにコンポジションをインポート**
   - 新規プロジェクトを作成
   - ファイル > 読み込み > プロジェクト
   - 破損したプロジェクトからコンポジションを選択

---

## トラブルシューティングの基本手順

1. **After Effectsを再起動**
   - 多くの問題は再起動で解決

2. **プロジェクトを保存**
   - トラブルシューティング前に必ず保存

3. **キャッシュをクリア**
   - 編集 > ディスクキャッシュを削除 > 全ディスクキャッシュを削除

4. **環境設定をリセット**
   - Ctrl + Alt + Shift を押しながら起動
   - 設定ファイルを削除して初期化

5. **バージョンを確認**
   - ヘルプ > After Effects について
   - 最新のアップデートを適用

6. **ログファイルを確認**
   - `C:\Users\[ユーザー名]\AppData\Roaming\Adobe\After Effects\[version]\`

---

## パフォーマンス最適化のヒント

1. **プリコンポーズを活用**
   - 複雑な部分はプリコンポーズしてレンダリング負荷を軽減

2. **シェイプレイヤーよりもイラストレーターファイル**
   - 複雑なグラフィックはAIファイルで読み込む

3. **エフェクトの順序を最適化**
   - 重いエフェクトは最後に適用

4. **マルチプロセッシング**
   - 編集 > 環境設定 > メモリとマルチプロセッシング
   - バックグラウンドでレンダリング

---

**最終更新日**: 2025年11月13日
**バージョン**: 1.0
