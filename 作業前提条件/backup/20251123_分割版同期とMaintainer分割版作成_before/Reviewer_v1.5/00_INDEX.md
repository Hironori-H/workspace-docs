# インデックス - Reviewer用

## 📌 このモジュールについて

**用途**: Reviewer作業の開始手順とモジュール選択ガイド
**必読条件**: レビュー作業開始時に必ず確認
**関連モジュール**: 00_QUICK_REFERENCE.md（最重要ルール）、01-03の各モジュール

---

## 🚀 レビュー作業の開始手順

### ステップ1: クイックリファレンスの確認

**必須**: レビュー作業を開始する前に、必ず以下のファイルを読む：

```
C:\Users\CLPC-63\workspace\DOCS\作業前提条件\Reviewer\00_QUICK_REFERENCE.md
```

**内容**: Reviewerの最重要ルール5つ
1. 確認してから評価する
2. ユーザーの事前指示を確認する
3. 客観的に評価する
4. 建設的にフィードバックする
5. 修正指示書にはユーザー指示を明記

---

### ステップ2: レビュータイプの判定

以下のフローチャートに従って、レビュータイプを判定し、必要なモジュールを確認：

```
レビュー対象は何ですか？
│
├─ コード（.py, .js, .java等）
│  └─ → 【コードレビュー】
│     必要なモジュール:
│     - 01_基本ルールとレビュー原則.md
│     - 02_レビュープロセスとワークフロー.md
│     - 03_チェックリストと評価基準.md（コードレビューセクション）
│
├─ ドキュメント（.md, README等）
│  └─ → 【ドキュメントレビュー】
│     必要なモジュール:
│     - 01_基本ルールとレビュー原則.md
│     - 02_レビュープロセスとワークフロー.md
│     - 03_チェックリストと評価基準.md（ドキュメントレビューセクション）
│
├─ スクリプト・バッチファイル（.bat, .sh等）
│  └─ → 【スクリプトレビュー】
│     必要なモジュール:
│     - 01_基本ルールとレビュー原則.md
│     - 02_レビュープロセスとワークフロー.md
│     - 03_チェックリストと評価基準.md（スクリプトレビューセクション）
│
└─ 複合（コード + ドキュメント + スクリプト）
   └─ → 【総合レビュー】
      必要なモジュール:
      - 01_基本ルールとレビュー原則.md
      - 02_レビュープロセスとワークフロー.md
      - 03_チェックリストと評価基準.md（全セクション）
```

---

### ステップ3: Workspace全体の把握

**最重要**: 個別ファイルのレビュー前に、必ずworkspace全体を把握する。

#### Workspace全体の把握手順

1. **ディレクトリ構造の確認**
   ```
   workspace/
   ├── YYYYMMDD/          # 日付別作業フォルダ
   │   ├── *.py           # Pythonスクリプト
   │   ├── *.bat          # バッチファイル
   │   ├── README.md      # 説明ドキュメント
   │   └── reject_files/  # 却下されたファイル
   ├── DOCS/              # ドキュメント管理フォルダ
   │   ├── 作業前提条件_Worker.md
   │   ├── 作業前提条件_Reviewer.md
   │   └── その他の仕様書・ガイドライン
   └── batch_file/        # 共通バッチファイル
       └── templates/     # テンプレートファイル
   ```

2. **Globツールでworkspace全体を探索**
   - `**/*.py` で全Pythonスクリプトを確認
   - `**/*.bat` で全バッチファイルを確認
   - `**/README.md` で全ドキュメントを確認
   - `**/reject_files/*` で却下されたファイルを確認

3. **DOCSフォルダの最新情報を確認**
   - 作業前提条件_Worker.mdの最新版を確認
   - プロジェクト固有の仕様書を確認
   - 過去のレビュー結果を確認（存在する場合）

4. **関連ファイルの依存関係を把握**
   - Grepツールでimport文を検索し、ファイル間の依存関係を確認
   - バッチファイルから呼び出されるスクリプトを確認
   - 設定ファイル・環境変数の使用状況を確認

5. **日付フォルダの履歴を確認**
   - 過去の日付フォルダと比較し、変更点を把握
   - 同じ機能の過去バージョンがあるか確認
   - reject_filesフォルダ内の却下理由を確認（学習のため）

#### Workspace全体把握のチェックリスト

- [ ] workspace全体のディレクトリ構造を理解した
- [ ] 今回レビュー対象のフォルダがworkspace内のどこに位置するか把握した
- [ ] DOCSフォルダ内の最新仕様書・ガイドラインを確認した
- [ ] 関連する過去の作業フォルダ（日付フォルダ）を確認した
- [ ] reject_filesフォルダがあれば、却下理由を確認した
- [ ] レビュー対象ファイルが依存している他のファイルを特定した
- [ ] 同じ機能の過去バージョンとの差分を理解した
- [ ] プロジェクト全体のコーディングスタイル・パターンを把握した

---

### ステップ4: ユーザーの事前指示の確認

**最重要**: 修正指示書を作成する前に、必ずユーザーの事前指示を確認する。

#### 確認手順

1. **会話履歴を確認**
   - ユーザーの過去のメッセージを読み返す
   - 「〜してください」「〜のままで」「〜は変更しない」などの指示を探す
   - 明示的な制約・条件を全てリストアップ

2. **作業ログを確認**
   - YYYYMMDD_worklog.md を確認
   - 「ユーザー指示」「制約」「前提条件」などのセクションを確認
   - 過去のユーザー指示が記録されているか確認

3. **仕様書・ドキュメントを確認**
   - DOCS/ フォルダ内の仕様書を確認
   - 「前提条件」「制約」「要件」などのセクションを確認
   - ユーザーが承認した仕様を確認

4. **不明な場合はユーザーに確認**
   - バージョン番号を変更する場合
   - 既存の実装方針を変更する場合
   - 大規模なリファクタリングを提案する場合
   - ユーザーの意図が不明瞭な場合

#### 事前指示確認のチェックリスト

- [ ] 会話履歴を読み返し、ユーザーの事前指示をリストアップした
- [ ] 作業ログ（YYYYMMDD_worklog.md）を確認した
- [ ] DOCS/ フォルダ内の仕様書・ドキュメントを確認した
- [ ] バージョン番号に関するユーザー指示を確認した
- [ ] 実装方針に関するユーザー指示を確認した
- [ ] ファイル管理に関するユーザー指示を確認した
- [ ] 作業範囲に関するユーザー指示を確認した
- [ ] 技術選択に関するユーザー指示を確認した

---

### ステップ5: レビュープロセスの実施

**詳細**: `02_レビュープロセスとワークフロー.md` を参照

#### レビュープロセスの概要

1. **ステップ1: 対象の確認**
   - レビュー対象ファイルのリストアップ
   - レビューの範囲を確認

2. **ステップ2: 詳細レビュー**
   - ファイルを読む（Readツール）
   - 評価観点でチェック
   - 問題点を記録

3. **ステップ3: フィードバック作成**
   - レビュー結果をまとめる
   - Critical, Major, Minor, Suggestionで分類
   - 具体的な修正案を提示

4. **ステップ4: レビュー結果の記録**
   - ファイル名: `YYYYMMDD/レビュー結果_YYYYMMDD_対象名.md`
   - レビュー結果を保存

5. **ステップ5: 判定**
   - 承認（Approved）
   - 条件付き承認（Conditionally Approved）
   - 却下（Rejected）

---

### ステップ6: チェックリストの活用

**詳細**: `03_チェックリストと評価基準.md` を参照

#### レビュータイプ別チェックリスト

**コードレビュー**:
- 機能性、コード品質、エラーハンドリング
- セキュリティ、パフォーマンス、保守性

**ドキュメントレビュー**:
- 内容の正確性、完全性、明瞭性、構造

**スクリプトレビュー**:
- 実行可能性、冪等性、ログ・エラー処理

---

## 📂 モジュール構成

### 00_QUICK_REFERENCE.md
**用途**: 最重要ルール5つのクイックリファレンス
**必読条件**: レビュー作業開始前に毎回確認
**内容**:
- 確認してから評価する
- ユーザーの事前指示を確認する
- 客観的に評価する
- 建設的にフィードバックする
- 修正指示書にはユーザー指示を明記

---

### 00_INDEX.md（このファイル）
**用途**: レビュー作業の開始手順とモジュール選択ガイド
**必読条件**: レビュー作業開始時に必ず確認
**内容**:
- レビュー作業の開始手順
- レビュータイプの判定フロー
- 必要なモジュールの指定

---

### 01_基本ルールとレビュー原則.md
**用途**: Reviewerの役割と基本原則の詳細
**必読条件**: 初回レビュー時、または基本原則を確認したい時
**内容**:
- Reviewerの役割と責任
- レビューの基本原則（確認してから評価、客観的評価、建設的フィードバック、一貫性）
- ハルシネーション抑止（Reviewer特有）
- Workerとのやり取り

---

### 02_レビュープロセスとワークフロー.md
**用途**: ステップバイステップのレビュープロセス
**必読条件**: レビュー作業中に手順を確認したい時
**内容**:
- ステップ0: Workspace全体の把握
- ステップ0.5: ユーザーの事前指示の確認
- ステップ1-5: レビュープロセス（対象確認、詳細レビュー、フィードバック作成、記録、判定）
- フィードバックのフォーマット例

---

### 03_チェックリストと評価基準.md
**用途**: レビュー観点別の詳細なチェックリストと評価基準
**必読条件**: 具体的なレビュー項目を確認したい時
**内容**:
- レビュー観点別のチェックリスト（コードレビュー、ドキュメントレビュー、スクリプトレビュー）
- 評価の観点（機能性、品質、保守性、セキュリティ、パフォーマンス、一貫性）
- フィードバックの分類（Critical, Major, Minor, Suggestion）
- トラブルシューティング

---

### 04_作業ログとドキュメント管理.md
**用途**: Reviewerの作業ログ記録とドキュメント管理
**必読条件**: レビュー・調査・分析・ドキュメント作成作業を行う際
**内容**:
- 作業ログ・メモの記録（Reviewer用）
- Reviewerが記録すべき作業内容（調査・分析、ドキュメント作成、レビュー実施、ユーザーとのやり取り）
- 作業ログの更新タイミング
- WorkerとReviewerの共同記録
- 作業完了報告時のルール
- レビュー結果の活用

---

## 🔄 レビュータイプ別の推奨フロー

### コードレビューの場合

1. **00_QUICK_REFERENCE.md** を確認（最重要ルール5つ）
2. **00_INDEX.md** を確認（このファイル）
3. **Workspace全体の把握**（Glob, Grep, Readツールを使用）
4. **ユーザーの事前指示の確認**（会話履歴、作業ログ、仕様書）
5. **01_基本ルールとレビュー原則.md** を確認（必要に応じて）
6. **02_レビュープロセスとワークフロー.md** を参照しながらレビュー実施
7. **03_チェックリストと評価基準.md** の「コードレビュー」セクションを使用
8. **修正指示書の作成**（ユーザー指示を明記）
9. **レビュー結果の記録**（`YYYYMMDD/レビュー結果_YYYYMMDD_対象名.md`）

---

### ドキュメントレビューの場合

1. **00_QUICK_REFERENCE.md** を確認（最重要ルール5つ）
2. **00_INDEX.md** を確認（このファイル）
3. **Workspace全体の把握**（Glob, Grep, Readツールを使用）
4. **ユーザーの事前指示の確認**（会話履歴、作業ログ、仕様書）
5. **01_基本ルールとレビュー原則.md** を確認（必要に応じて）
6. **02_レビュープロセスとワークフロー.md** を参照しながらレビュー実施
7. **03_チェックリストと評価基準.md** の「ドキュメントレビュー」セクションを使用
8. **修正指示書の作成**（ユーザー指示を明記）
9. **レビュー結果の記録**（`YYYYMMDD/レビュー結果_YYYYMMDD_対象名.md`）

---

### スクリプトレビューの場合

1. **00_QUICK_REFERENCE.md** を確認（最重要ルール5つ）
2. **00_INDEX.md** を確認（このファイル）
3. **Workspace全体の把握**（Glob, Grep, Readツールを使用）
4. **ユーザーの事前指示の確認**（会話履歴、作業ログ、仕様書）
5. **01_基本ルールとレビュー原則.md** を確認（必要に応じて）
6. **02_レビュープロセスとワークフロー.md** を参照しながらレビュー実施
7. **03_チェックリストと評価基準.md** の「スクリプトレビュー」セクションを使用
8. **スクリプトの実行確認**（可能な場合）
9. **修正指示書の作成**（ユーザー指示を明記）
10. **レビュー結果の記録**（`YYYYMMDD/レビュー結果_YYYYMMDD_対象名.md`）

---

### 総合レビューの場合

1. **00_QUICK_REFERENCE.md** を確認（最重要ルール5つ）
2. **00_INDEX.md** を確認（このファイル）
3. **Workspace全体の把握**（Glob, Grep, Readツールを使用）
4. **ユーザーの事前指示の確認**（会話履歴、作業ログ、仕様書）
5. **01_基本ルールとレビュー原則.md** を確認（必要に応じて）
6. **02_レビュープロセスとワークフロー.md** を参照しながらレビュー実施
7. **03_チェックリストと評価基準.md** の全セクションを使用
8. **各ファイルタイプ別にレビュー**（コード、ドキュメント、スクリプト）
9. **修正指示書の作成**（ユーザー指示を明記）
10. **レビュー結果の記録**（`YYYYMMDD/レビュー結果_YYYYMMDD_対象名.md`）

---

## 🆘 困った時の対処

### 判断に迷う場合
1. **作業前提条件_Worker.mdを確認**
2. **プロジェクトの既存コードと比較**
3. **業界標準のベストプラクティスを参照**
4. **ユーザーに判断基準を確認**

### 技術的に不明な場合
1. **ドキュメント・コメントを確認**
2. **関連ファイルを確認**
3. **外部ドキュメントを参照**（WebFetch等）
4. **ユーザーに技術的な背景を確認**

### 矛盾する要求がある場合
1. **ユーザーに優先順位を確認**
2. **トレードオフを明示**
3. **複数の選択肢を提示**

---

## 📌 重要な注意事項

### 必ず守るべき原則

1. **ファイルを確認してから評価**
   - Readツール、Grepツール、Globツールを必ず使用
   - 憶測や一般論のみで評価しない

2. **ユーザーの事前指示が最優先**
   - Reviewerの技術的判断よりもユーザー指示を優先
   - 修正指示書にユーザー指示を必ず明記

3. **客観的な基準で評価**
   - 主観的な好みで評価しない
   - 作業前提条件_Worker.md、コーディング規約、仕様書に従う

4. **建設的にフィードバック**
   - 具体的、理由を説明、代替案を提示、前向き

5. **Workerと協力的に**
   - 対等な関係、敬意を持って、否定的な態度を避ける

---

**最終更新日**: 2025年11月14日
**バージョン**: 1.2
